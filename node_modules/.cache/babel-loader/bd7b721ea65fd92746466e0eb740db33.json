{"remainingRequest":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/babel-loader/lib/index.js!/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Login.vue","mtime":1653644552398},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBzdG9yZSBmcm9tICcuLi8uLi9zdG9yZS9pbmRleCc7CmltcG9ydCB7IHF1ZXJ5TWVzc2FnZSwgbG9naW5Mb2dpbiB9IGZyb20gJy4uL2FwaS9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAn6ICDIOivlSDnmbsg5b2VJywKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBtb2JpbGU6ICcnLAogICAgICB1aWQ6ICcnLAogICAgICBjb2RlOiAnJywKICAgICAgYnV0dG9uTmFtZTogJ+WPkemAgemqjOivgeeggScsCiAgICAgIENvdW50RG93bjogNjAsCiAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0NvdW50RG93bkluZm8nKSkgewogICAgICB0aGlzLkNvdW50RG93biA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnQ291bnREb3duSW5mbycpKS5Db3VudERvd247CiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnQ291bnREb3duSW5mbycpKS5pc0Rpc2FibGVkOwogICAgfQoKICAgIGlmICh0aGlzLmlzRGlzYWJsZWQpIHsKICAgICAgdmFyIHRpbWVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuQ291bnREb3duLS07CiAgICAgICAgX3RoaXMuYnV0dG9uTmFtZSA9IF90aGlzLkNvdW50RG93biArICfnp5LlkI7ph43or5UnOwoKICAgICAgICBpZiAoX3RoaXMuQ291bnREb3duIDw9IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7CiAgICAgICAgICBfdGhpcy5idXR0b25OYW1lID0gJ+mHjeaWsOWPkemAgSc7CiAgICAgICAgICBfdGhpcy5Db3VudERvd24gPSA2MDsKICAgICAgICAgIF90aGlzLmlzRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sIDEwMDApOwogICAgfQoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ0NvdW50RG93bkluZm8nLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgQ291bnREb3duOiBfdGhpcy5Db3VudERvd24sCiAgICAgICAgaXNEaXNhYmxlZDogX3RoaXMuaXNEaXNhYmxlZAogICAgICB9KSk7CiAgICB9KTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUodG8sIGZyb20sIG5leHQpIHsKICAgIC8qCiAgICAgIHRvOnJvdXRlciDljbPlsIbopoHov5vlhaXnmoTot6/nlLHlr7nosaEKICAgICAgZnJvbTpyb3V0ZXIgIOW9k+WJjeWvvOiIquato+imgeemu+W8gOeahOi3r+eUsQogICAgICBuZXh0KCnov5vooYznrqHpgZPkuK3nmoTkuIvkuIDkuKrpkqnlrZAKICAgICAg5pyA5ZCO6KaB56Gu5L+d6LCD55SobmV4dOaWueazle+8jOWQpuWImemSqeWtkOS4jeS8muiiq3Jlc29sdmVkCiAgICAqLwogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnQ291bnREb3duSW5mbycsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgQ291bnREb3duOiB0aGlzLkNvdW50RG93biwKICAgICAgaXNEaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkCiAgICB9KSk7CiAgICBuZXh0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBxdWVyeU1lc3NhZ2UxOiBmdW5jdGlvbiBxdWVyeU1lc3NhZ2UxKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHF1ZXJ5TWVzc2FnZSh7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgbW9iaWxlOiB0aGlzLm1vYmlsZSwKICAgICAgICB1aWQ6IHRoaXMudWlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDAwMCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+efreS/oeWPkemAgeaIkOWKnyEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5pc0Rpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgIHZhciB0aW1lcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuQ291bnREb3duLS07CiAgICAgICAgICAgIF90aGlzMi5idXR0b25OYW1lID0gX3RoaXMyLkNvdW50RG93biArICfnp5LlkI7ph43or5UnOwoKICAgICAgICAgICAgaWYgKF90aGlzMi5Db3VudERvd24gPD0gMCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7CiAgICAgICAgICAgICAgX3RoaXMyLmJ1dHRvbk5hbWUgPSAn6YeN5paw5Y+R6YCBJzsKICAgICAgICAgICAgICBfdGhpczIuQ291bnREb3duID0gNjA7CiAgICAgICAgICAgICAgX3RoaXMyLmlzRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luTG9naW4xOiBmdW5jdGlvbiBsb2dpbkxvZ2luMSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBsb2dpbkxvZ2luKHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBtb2JpbGU6IHRoaXMubW9iaWxlLAogICAgICAgIHVpZDogdGhpcy51aWQsCiAgICAgICAgY29kZTogdGhpcy5jb2RlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDAwMCkgewogICAgICAgICAgc3RvcmUuY29tbWl0KCdzZXRUb2tlbicsIHJlcy5kYXRhLmRhdGEudG9rZW4pOwoKICAgICAgICAgIF90aGlzMy4kcm91dGVyLnJlcGxhY2UoJy93YWl0Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"ma\">\n    <div class=\"bd\">\n      <div>\n        <h1 style=\"padding-bottom: 10px; color:#3d4046;text-align: center\">{{title}}</h1>\n        <div style=\"width: 230px\">姓名</div>\n        <el-input  v-model=\"username\" placeholder=\"请输入\"></el-input>\n\n        <div>身份证号码</div>\n        <el-input  v-model=\"uid\" placeholder=\"请输入\"></el-input>\n\n        <div>手机号</div>\n        <el-input  v-model=\"mobile\" placeholder=\"请输入\"></el-input>\n\n        <div>\n          <div>验证码</div>\n          <el-input  v-model=\"code\" placeholder=\"请输入\"></el-input>\n        </div>\n        <el-button id='bt' :disabled=\"isDisabled\" style=\"margin-top: 10px\" @click=\"queryMessage1()\">{{buttonName}}</el-button>\n        <el-button id=\"loginL\" @click=\"loginLogin1\">登录</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import store from '../../store/index'\n  import { queryMessage, loginLogin } from '../api/api'\n\n  export default {\n    data () {\n      return {\n        title: '考 试 登 录',\n        username: '',\n        mobile: '',\n        uid: '',\n        code: '',\n        buttonName: '发送验证码',\n        CountDown: 60,\n        isDisabled: false\n      }\n    },\n    created () {\n      if (sessionStorage.getItem('CountDownInfo')) {\n        this.CountDown = JSON.parse(\n          sessionStorage.getItem('CountDownInfo')\n        ).CountDown;\n        this.isDisabled = JSON.parse(\n          sessionStorage.getItem('CountDownInfo')\n        ).isDisabled;\n      }\n      if (this.isDisabled) {\n        var timerId = setInterval(() => {\n          this.CountDown--;\n          this.buttonName = this.CountDown + '秒后重试';\n          if (this.CountDown <= 0) {\n            clearInterval(timerId);\n            this.buttonName = '重新发送';\n            this.CountDown = 60;\n            this.isDisabled = false;\n          }\n        }, 1000);\n      }\n      window.addEventListener('beforeunload', () => {\n        sessionStorage.setItem(\n          'CountDownInfo',\n          JSON.stringify({\n            CountDown: this.CountDown,\n            isDisabled: this.isDisabled\n          })\n        )\n      })\n    },\n\n    beforeRouteLeave (to, from, next) {\n      /*\n        to:router 即将要进入的路由对象\n        from:router  当前导航正要离开的路由\n        next()进行管道中的下一个钩子\n        最后要确保调用next方法，否则钩子不会被resolved\n      */\n      sessionStorage.setItem(\n        'CountDownInfo',\n        JSON.stringify({\n          CountDown: this.CountDown,\n          isDisabled: this.isDisabled\n        })\n      );\n      next();\n    },\n\n    methods: {\n      queryMessage1 () {\n        queryMessage({\n          username: this.username,\n          mobile: this.mobile,\n          uid: this.uid\n        }).then(res => {\n          if (res.data.code === 20000) {\n            this.$message({\n              message: '短信发送成功!',\n              type: 'success'\n            });\n            this.isDisabled = true;\n            var timerId = setInterval(() => {\n              this.CountDown--;\n              this.buttonName = this.CountDown + '秒后重试';\n              if (this.CountDown <= 0) {\n                clearInterval(timerId);\n                this.buttonName = '重新发送';\n                this.CountDown = 60;\n                this.isDisabled = false;\n              }\n            }, 1000)\n          } else {\n            this.$message.error(res.data.message)\n          }\n          }\n        )\n      },\n      loginLogin1 () {\n        loginLogin(\n          {\n            username: this.username,\n            mobile: this.mobile,\n            uid: this.uid,\n            code: this.code\n          }\n        ).then(res => {\n          if (res.data.code === 20000) {\n            store.commit('setToken', res.data.data.token)\n            this.$router.replace('/wait')\n          } else {\n            this.$message.error(res.data.message)\n          }\n          }\n        )\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .ma{\n    background-image:url('../../public/test.jpg');\n    padding: 20px;\n    height: 1000px;\n    width: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .bd{\n    height: 500px;\n    width: 500px;\n    background: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 6px;\n  }\n\n  #loginL {\n    width: 100%;\n    background-color: #2d8eff;\n    color: #dedcdb;\n    padding: 14px 20px;\n    margin: 8px 0;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n\n  #loginL:hover {\n    background-color: #1f27ff;\n  }\n  div {\n    color: #6a6d73;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}