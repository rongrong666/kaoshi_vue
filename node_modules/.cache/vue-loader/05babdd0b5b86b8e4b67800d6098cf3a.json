{"remainingRequest":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Wait.vue?vue&type=style&index=0&id=dbb7bfbc&lang=less&scoped=true&","dependencies":[{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Wait.vue","mtime":1652943590233},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLndhaXRfbWF7CiAgYmFja2dyb3VuZC1jb2xvcjogI2RlZGNkYjsKICBwYWRkaW5nOiAyMHB4OwogIGhlaWdodDogMTAwMHB4OwogIHdpZHRoOiBhdXRvOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoudGV4dCB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouaXRlbSB7CiAgbWFyZ2luLWJvdHRvbTogMjhweDsKfQoKLmNsZWFyZml4OmJlZm9yZSwKLmNsZWFyZml4OmFmdGVyIHsKICBkaXNwbGF5OiB0YWJsZTsKICBjb250ZW50OiAiIjsKfQouY2xlYXJmaXg6YWZ0ZXIgewogIGNsZWFyOiBib3RoCn0KCi5ib3gtY2FyZCB7CiAgd2lkdGg6IDgwMHB4OwogIGhlaWdodDogNDAwcHg7Cn0K"},{"version":3,"sources":["Wait.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Wait.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"wait_ma\">\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span style=\"font-size:30px;color: #4b494a\">考生信息</span>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"gotoAnswer\">进入考试</el-button>\n      </div>\n      <div class=\"text item\" style=\"font-size:20px;color: #909399\">\n        考生姓名:    {{username}}\n      </div>\n      <div class=\"text item\" style=\"font-size:20px;color: #909399\">\n        考生号:    {{qid}}\n      </div>\n      <div class=\"text item\" style=\"font-size:20px;color: #909399\">\n        科目:    {{subject}}\n      </div>\n      <div class=\"text item\" style=\"font-size:20px;color: #909399\">\n        答题时长:   2小时\n      </div>\n      <div class=\"text item\" style=\"font-size:20px;color: #909399\">\n        考试开始时间:   {{qtime}}\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n  import request from '../utils/request.ts'\n  import store from '../../store/index'\n\n  export default {\n    data () {\n      return {\n        username: '',\n        qid: '',\n        subject: '',\n        qtime: '',\n        qyear: '',\n        qmonth: '',\n        qday: '',\n        qhour: '',\n        qmin: ''\n      }\n    },\n    beforeMount () {\n      this.queryUserInfo()\n    },\n    methods: {\n      queryUserInfo () {\n        var token = localStorage.getItem('token')\n        request({\n          method: 'get',\n          url: 'http://49.232.20.84:8080/user/info?token=' + token.substring(1, token.length - 1)\n        }).then(res => {\n            if (res.data.code === 20000) {\n                this.username = res.data.data.username\n                this.qid = res.data.data.qid\n                store.commit('setUserType', res.data.data.type)\n                if (res.data.data.type === 1) { this.subject = '会计' } else { this.subject = '文秘' }\n            } else {\n              this.$message({\n                message: '未获取到考试信息!',\n                type: 'warning'\n              })\n            }\n          }\n        )\n        request({\n          method: 'get',\n          url: 'http://49.232.20.84:8080/user/setting'\n        }).then(res => {\n            if (res.data.code === 20000) {\n              this.qtime = res.data.data.Qyear + '年' + res.data.data.Qmonth + '月' + res.data.data.Qday + '日' + '    ' +\n                           res.data.data.Qhour + '时' + res.data.data.Qmin + '分'\n              this.qyear = res.data.data.Qyear\n              this.qmonth = res.data.data.Qmonth\n              this.qday = res.data.data.Qday\n              this.qhour = res.data.data.Qhour\n              this.qmin = res.data.data.Qmin\n            } else {\n              this.$message({\n                message: '未获取到考试时间!',\n                type: 'warning'\n              })\n            }\n          }\n        )\n      },\n      gotoAnswer () {\n        // todo:时间限制\n        const now = new Date()\n        const setTime = new Date(parseInt(this.qyear), parseInt(this.qmonth) - 1, parseInt(this.qday), parseInt(this.qhour), parseInt(this.qmin))\n        if (now < setTime) {\n          this.$message({\n            message: '考试时间未到!',\n            type: 'warning'\n          })\n        } else if (now.getTime() - setTime.getTime() > 7200000) {\n          this.$message({\n            message: '考试已结束!',\n            type: 'warning'\n          })\n        } else {\n          this.$router.replace('/answer')\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .wait_ma{\n    background-color: #dedcdb;\n    padding: 20px;\n    height: 1000px;\n    width: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 28px;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 800px;\n    height: 400px;\n  }\n</style>\n"]}]}