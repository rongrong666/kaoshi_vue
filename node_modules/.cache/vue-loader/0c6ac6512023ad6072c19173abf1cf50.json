{"remainingRequest":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Wait2.vue?vue&type=style&index=0&id=09c9a9bb&lang=less&scoped=true&","dependencies":[{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/src/components/Wait2.vue","mtime":1652943714854},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rongrong/Desktop/代码文件/前端测试项目/vuecli/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud2FpdF9tYXsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGVkY2RiOwogIHBhZGRpbmc6IDIwcHg7CiAgaGVpZ2h0OiAxMDAwcHg7CiAgd2lkdGg6IGF1dG87CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHRleHQtYWxpZ246IGNlbnRlcgp9CgouaXRlbSB7CiAgbWFyZ2luLWJvdHRvbTogMjhweDsKICBmb250LXNpemU6MjBweDsKICBjb2xvcjogIzkwOTM5OTsKICB0ZXh0LWFsaWduOiBjZW50ZXIKfQoKLmJveC1jYXJkIHsKICB3aWR0aDogODAwcHg7CiAgaGVpZ2h0OiBhdXRvOwp9Cg=="},{"version":3,"sources":["Wait2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Wait2.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"wait_ma\" v-show=\"isShowa\">\n      <el-card class=\"box-card\">\n        <div class=\"item\" >\n          第一轮考试已完成,您辛苦了！请等待考试结果！\n        </div>\n        <el-button type=\"primary\" :disabled=\"isDisable\" @click=\"getRes\">{{waittime}}</el-button>\n      </el-card>\n    </div>\n    <div class=\"wait_ma\" v-show=\"isShowb\">\n      <el-card class=\"box-card\">\n        <div class=\"item\" >\n          {{conten}}\n        </div>\n        <el-button type=\"primary\" :disabled=\"isDisable1\" v-show=\"isShowc\" @click=\"toa2\">{{waittime1}}</el-button>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\n  import request from '../utils/request.ts'\n\n  export default {\n    data () {\n      return {\n        isShowa: true,\n        isShowb: false,\n        isShowc: true,\n        waittime: '',\n        waittime1: '',\n        isDisable: true,\n        isDisable1: true,\n        conten: '',\n        qyear: '',\n        qmonth: '',\n        qday: '',\n        qhour: '',\n        qmin: ''\n      }\n    },\n    created () {\n      request({\n        method: 'get',\n        url: 'http://49.232.20.84:8080/user/setting'\n      }).then(res => {\n        if (res.data.code === 20000) {\n          this.qyear = res.data.data.Qyear\n          this.qmonth = res.data.data.Qmonth\n          this.qday = res.data.data.Qday\n          this.qhour = res.data.data.Qhour\n          this.qmin = res.data.data.Qmin\n        } else {\n          this.$message({\n            message: '未获取到考试时间!',\n            type: 'warning'\n          })\n        }\n      })\n      setInterval(this.gettime, 1000)\n      setInterval(this.gettime1, 1000)\n    },\n    methods: {\n      gettime () {\n        const nowtime = new Date()\n        const endtime = new Date(parseInt(this.qyear), parseInt(this.qmonth) - 1, parseInt(this.qday),\n          parseInt(this.qhour) + 2, parseInt(this.qmin) + 2)\n        const lefttime = endtime.getTime() - nowtime.getTime()\n        const lefth = Math.floor(lefttime / (1000 * 60 * 60) % 24)\n        const leftm = Math.floor(lefttime / (1000 * 60) % 60)\n        const lefts = Math.floor(lefttime / 1000 % 60)\n        this.waittime = lefth + ':' + leftm + ':' + lefts\n        if (nowtime >= endtime) {\n          this.isDisable = false\n          this.waittime = '查看成绩'\n          clearInterval(this.gettime)\n        }\n      },\n      gettime1 () {\n        const nowtime = new Date()\n        const endtime = new Date(parseInt(this.qyear), parseInt(this.qmonth) - 1, parseInt(this.qday),\n          parseInt(this.qhour) + 2, parseInt(this.qmin) + 5)\n        const lefttime = endtime.getTime() - nowtime.getTime()\n        const lefth = Math.floor(lefttime / (1000 * 60 * 60) % 24)\n        const leftm = Math.floor(lefttime / (1000 * 60) % 60)\n        const lefts = Math.floor(lefttime / 1000 % 60)\n        this.waittime1 = lefth + ':' + leftm + ':' + lefts\n        if (nowtime >= endtime) {\n          this.isDisable1 = false\n          this.waittime1 = '进入二轮考试'\n          clearInterval(this.gettime1)\n        }\n      },\n      getRes () {\n        var token = localStorage.getItem('token')\n        request({\n          method: 'get',\n          url: 'http://49.232.20.84:8080/user/resa?token=' + token.substring(1, token.length - 1)\n        }).then(res => {\n          if (res.data.code === 20000) {\n            this.isShowa = false\n            this.isShowb = true\n            if (res.data.res === 1) {\n              this.conten = '祝贺您本轮考试通过!请等待下一轮考试!'\n              this.isShowc = true\n            } else {\n              this.conten = '很遗憾本轮考试未通过,再接再厉!'\n              this.isShowc = false\n            }\n          } else {\n            this.$message.error('获取成绩出错!')\n          }\n          }\n        )\n      },\n      toa2 () {\n        this.$router.replace('/answer2')\n      }\n    }\n  }\n\n</script>\n\n<style lang=\"less\" scoped>\n  .wait_ma{\n    background-color: #dedcdb;\n    padding: 20px;\n    height: 1000px;\n    width: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center\n  }\n\n  .item {\n    margin-bottom: 28px;\n    font-size:20px;\n    color: #909399;\n    text-align: center\n  }\n\n  .box-card {\n    width: 800px;\n    height: auto;\n  }\n</style>\n"]}]}